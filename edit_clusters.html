<div class="row" id="main-content">
    <div class="col-6 column" id="map-and-buttons-column">
        <!-- Upload Buttons-->
        <div class="row" id="upload-buttons-row">
            <div class="col-auto">
                <!-- <button class="map-button" id="btn-auto-cluster">Auto Cluster</button> -->
                <button class="map-button" id="btn-download-clusters">Download Clusters</button>
            </div>
            <div class="col-auto ml-auto">
                <!-- <button class="map-button" id="btn-auto-cluster">Auto Cluster</button> -->
                <button class="map-button" id="btn-save-edit-clusters">Save</button>
            </div>
        </div>
        {% include 'map.html' %}
    </div>

    <div class="col-3 column" id="cluster-and-all-cp-column">
        <div id="cluster-cp-column" class="column-cards">
            <div class="row">
                <div class="col cluster-id-display">
                    <span id="cluster-id-display" class="cards-count">No Cluster Selected</span>
                </div>
                <div class="col-auto ml-auto btn-top-card" id="btn-expand-collapse-cluster-cp">
                    <img src="{{ url_for('static', filename='icons/icons8-triangle-down-32.png') }}" alt="Collapse/Expand" title="Collapse/Expand" data-state="collapsed">
                </div>
            </div>

            <div class="row">
                <div class="col-9">
                    <span id="cluster-cp-cards-count" class="cards-count">0 Cluster Collection Points</span>
                </div>
                <div class="col-2 btn-top-card" id="btn-top-cluster-cp">
                    Top
                </div>
            </div>
            <div id="cluster-cp-cards-container" class="cards-container">
            </div>
        </div>

        <div id="all-cp-column" class="column-cards">
            <div id="search-all-cp-container" class="row">
                <div class="col">
                    <input type="text" class="input-search-cards" id="input-search-all-cp" placeholder="Search...">
                </div>
                <div class="col-auto ml-auto">
                    <button class="map-button card-colum-button" id="btn-unclustered-cp">Unclustered Points</button>
                </div>
            </div>

            <div class="row">
                <div class="col-9">
                    <span id="all-cp-cards-count" class="cards-count">0 Collection Points</span>
                </div>
                <div class="col-2 btn-top-card" id="btn-top-all-cp">
                    Top
                </div>
            </div>
            <div id="all-cp-cards-container" class="cards-container">
            </div>
        </div>
    </div>

    <div class="col-3 column" id="cluster-column-column">
        <div id="cluster-column" class="column-cards">
            <div id="search-cluster-container" class="row">
                <div class="col">
                    <input type="text" class="input-search-cards" id="input-search-cluster" placeholder="Search...">
                </div>
                <div class="col-auto ml-auto">
                    <button class="map-button card-colum-button" id="btn-create-cluster">Create Cluster</button>
                </div>
            </div>

            <div id="search-cp-container" class="row">
                <div class="col-9">
                    <span id="cluster-cards-count" class="cards-count">0 Clusters</span>
                </div>
                <div class="col-2 btn-top-card" id="btn-top-cluster">
                    Top
                </div>
            </div>
            <div id="cluster-cards-container" class="cards-container">
            </div>
        </div>
    </div>
</div>

<!-- Download Clusters Excel Modal -->
<div class="modal fade" id="download-clusters-excel-modal" tabindex="-1" role="dialog" aria-labelledby="download-clusters-excel-modal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content dark-mode">
            <div class="modal-header">
                <h5 class="modal-title" id="download-clusters-excel-modal-label">Download Excel</h5>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="input-clusters-excel-filename">Please name your file</label>
                    <input type="text" class="form-control" name="input-clusters-excel-filename" id="input-clusters-excel-filename" placeholder="Enter your file name">
                </div>
            </div>
                <div class="modal-footer">
                    <button type="button" id="btn-cancel-download-clusters-excel" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" id="btn-confirm-download-clusters-excel" class="btn btn-primary">Download</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- IMPORTS -->
<!-- Load SheetJS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.3/xlsx.full.min.js"></script>

<!-- Load Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.2/dist/leaflet.js"></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.2/dist/leaflet.css" />

<!-- Load Leaflet Draw-->
<link rel="stylesheet" href="https://unpkg.com/leaflet-draw@1.0.2/dist/leaflet.draw-src.css" />
<script src="https://unpkg.com/leaflet-draw@1.0.2/dist/leaflet.draw-src.js"></script>

<!-- Load jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Load Css -->
<link href="css/edit_clusters.css" rel="stylesheet"/>
<link href="css/map.css" rel="stylesheet"/>
<link href="css/card.css" rel="stylesheet"/>

<!-- Load Js -->
<script src="js/mapLogic.js"></script>
<script src="js/edit_clusters.js"></script>
<script src="js/cards.js"></script>